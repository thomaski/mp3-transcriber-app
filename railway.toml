# ============================================================================
# Railway.app Deployment-Konfiguration
# ============================================================================
# Dokumentation: https://docs.railway.app/reference/config-as-code

[build]
builder = "NIXPACKS"
# Installiert root-Dependencies + baut React-Frontend
# Hinweis: npm install (root) wird von Railway automatisch ausgeführt.
# build:railway macht: cd client && npm install && npm run build
buildCommand = "npm run build:railway"

[deploy]
startCommand = "npm start"
# Health-Check: Railway prüft ob der Server korrekt startet
healthcheckPath = "/api/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
